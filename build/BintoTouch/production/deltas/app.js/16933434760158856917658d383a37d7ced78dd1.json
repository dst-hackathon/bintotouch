["/*124487e326b2e60a55f1eb03dd04c6c663706064",42,417678,"device.communicator.Default\",{SERVER_URL:\"http://localhost:3000\",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:\"0\",generateId:function(){return String(++this.idSeed)},getId:function(a){var b=a.$callbackId;if(!b){a.$callbackId=b=this.generateId()}return b},getCallbackId:function(h,d){var c=this.callbackIdMap,b=this.callbackDataMap,g,a,f,e;if(!d){a=this.globalScopeId}else{if(d.isIdentifiable){a=d.getId()}else{a=this.getId(d)}}f=this.getId(h);if(!c[a]){c[a]={}}if(!c[a][f]){g=this.generateId();e={callback:h,scope:d};c[a][f]=g;b[g]=e}return c[a][f]},getCallbackData:function(a){return this.callbackDataMap[a]},invoke:function(c,a){var b=this.getCallbackData(c);b.callback.apply(b.scope,a)},send:function(c){var e,d,b,f;if(!c){c={}}else{if(c.callbacks){e=c.callbacks;d=c.scope;delete c.callbacks;delete c.scope;for(b in e){if(e.hasOwnProperty(b)){f=e[b];if(typeof f==\"function\"){c[b]=this.getCallbackId(f,d)}}}}}c.__source=document.location.href;var a=this.doSend(c);return(a&&a.length>0)?JSON.parse(a):null},doSend:function(a){var c=new XMLHttpRequest();c.open(\"GET\",this.SERVER_URL+\"?\"+Ext.Object.toQueryString(a)+\"&_dc=\"+new Date().getTime(),false);try{c.send(null);return c.responseText}catch(b){if(a.failure){this.invoke(a.failure)}else{if(a.callback){this.invoke(a.callback)}}}}});Ext.define(\"Ext.device.communicator.Android\",{extend:Ext.device.communicator.Default,doSend:function(a){a.__source=document.location.href;return window.Sencha.action(JSON.stringify(a))}});Ext.define(\"Ext.device.Communicator",231701,41,"if(Ext.os.is.Android){return new Ext.device.communicator.Android()}return new Ext.device.communicator.Default()}});Ext.define(\"Ext.device.notification.Abstract\",{show:function(a){if(!a.message){throw (\"[Ext.device.Notification#show] You passed no message\")}if(!a.buttons){a.buttons=\"OK\"}if(!Ext.isArray(a.buttons)){a.buttons=[a.buttons]}if(!a.scope){a.scope=this}return a},vibrate",346719,32,"evice.notification.PhoneGap\",{extend:Ext.device.notification.Abstract,show:function(){var c=this.callParent(arguments),f=c.buttons,a=function(g){if(c.callback){c.callback.apply(c.scope,(c.buttons)?[c.buttons[g-1].itemId.toLowerCase()]:[])}};var e=f.length;if(e&&typeof f[0]!=\"string\"){var b=[],d;for(d=0;d<e;d++){b.push(f[d].text)}f=b.join(\",\")}navigator.notification.confirm(c.message,a,c.title,f)},vibrate:function(){navigator.notification.vibrate(2000)}});Ext.define(\"Ext.device.notification.Sencha\",{extend:Ext.device.notification.Abstract,show",239406,45,"Ext.device.Communicator.send({command:\"Notification#show\",callbacks:{callback:a.callback},scope:a.scope,title:a.title,message:a.message,buttons:a.buttons.join(\",\")})},vibrate:function(){Ext.device.Communicator.send({command:\"Notification#vibrate\"})}});Ext.define(\"Ext.device.notification.Simulator\",{extend:Ext.device.notification.Abstract,msg:null,show",239406,44,",e=[],d=a.buttons.length,c,b,g,f;for(b=0;b<d;b++){c=a.buttons[b];if(Ext.isString(c)){c={text:a.buttons[b],itemId:a.buttons[b].toLowerCase()}}e.push(c)}this.msg=Ext.create(\"Ext.MessageBox\");f=this.msg;g=function(h){if(a.callback){a.callback.apply(a.scope,[h])}};this.msg.show({title:a.title,message:a.message,scope:this.msg,buttons:e,fn:g})},vibrate:function(){var c=[\"@-webkit-keyframes vibrate{\",\"    from {\",\"        -webkit-transform: rotate(-2deg);\",\"    }\",\"    to{\",\"        -webkit-transform: rotate(2deg);\",\"    }\",\"}\",\"body {\",\"    -webkit-animation: vibrate 50ms linear 10 alternate;\",\"}\"];var b=",47403,40,";var a",57305,33,"a.innerHTML=c.join(\"\\n\");b.appendChild(a);setTimeout(function(){b.removeChild(a)},400)}});Ext.define(\"Ext.device.Notification",231701,45,"a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create(\"Ext.device.notification.PhoneGap\")}else{return Ext.create(\"Ext.device.notification.Sencha\")}}else{return Ext.create(\"Ext.device.notification.Simulator\")",417699,53711,"ux.Fileup\",{extend:Ext.Button,xtype:\"fileupload\"",262005,138,",hidden:true",262143,50,",{tag:\"div\",className:Ext.baseCSSPrefix+\"loading-spinner\",reference:\"loadingElement\",hidden:true,children:[",262066,41,"loading-top\"",262064,43,"loading-right\"",262064,43,"loading-bottom\"",262064,43,"loading-left\"}]},{tag:\"form\",reference:\"formElement\",hidden:false,children:[{tag:\"input\",reference:\"fileElement\",type:\"file\",name:\"userfile\",tabindex:-1,hidden:false,style:\"opacity:0;position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;z-index:16777270;\"}]}],defaultStates:{browse:{text:\"Browse\",cls:Ext.baseCSSPrefix+\"fileup\",ui:\"filebrowse\"},ready:{text:\"Upload\",cls:Ext.baseCSSPrefix+\"fileup-ready\",ui:\"fileready\"},uploading:{text:\"Uploading\",cls:Ext.baseCSSPrefix+\"fileup-uploading\",ui:\"fileupload\",loading:true}},currentState:null",153997,32,"fileup\",name:\"userfile\",autoUpload:false,states:true,loadAsDataUrl:false,url:\"\",signRequestEnabled:false,signHeader:\"\",defaultSuccessCodes:[200,201]},applyStates:function(a){var b=this;if(a){if(Ext.isObject(a)){return Ext.merge({},b.defaultStates,a)}else{return b.defaultStates}}else{return b.defaultStates}",281485,52,"fileElement.dom.onchange=function(){a.onChanged.apply(a,arguments)};a.on({scope:a,buffer:250,tap:a.onButtonTap});a.changeState(\"browse\")},onButtonTap:function(){var b=this;switch(b.currentState){case\"ready\":b.changeState(\"uploading\");var a=b.fileElement.dom.files[0];if(!b.getLoadAsDataUrl()){b.fireEvent(\"uploadstart\",a);b.doUpload(a)}else{b.doLoad(a)}break}},onChanged",411485,35,".files.length>0){a.fireAction(\"ready\",[b.target.files[0]],function(){a.changeState(\"ready\")},a)}else{Ext.device.Notification.show({title:\"Error\",message:\"File selected but not accessible\",buttons:Ext.MessageBox.OK,callback:function(){a.changeState(\"browse\")}})}},changeState:function(c){var b=this;var a=b.getStates();if(Ext.isDefined(a[c])){if(a[c].text){b.setText(a[c].text)}else{b.setText(\"\")}if(a[c].cls){b.setCls(a[c].cls)}else{b.setCls(\"\")}if(a[c].ui){b.setUi(a[c].ui)}else{b.setUi(\"normal\")}if(a[c].loading){b.loadingElement.show()}else{b.loadingElement.hide()}switch(c){case\"browse\":b.currentState=\"browse\";b.reset();break;case\"ready\":b.currentState=\"ready\";b.fileElement.hide();if(b.getAutoUpload()){b.onButtonTap()}break;case\"uploading\":b.currentState=\"uploading\";break}}else{}},doLoad:function(b){var c=this;var a=new FileReader();a.onerror=function(f){var d;switch(f.target.error.code){case f.target.error.NOT_FOUND_ERR:d=\"File Not Found\";break;case f.target.error.NOT_READABLE_ERR:d=\"File is not readable\";break;case f.target.error.ABORT_ERR:break;default:d=\"Can not read file\"}c.fireEvent(\"loadfailure\",d,this,f)};a.onload=function(d){c.fireEvent(\"loadsuccess\",this.result,this,d);c.changeState(\"browse\")};a.readAsDataURL(b)},doUpload:function(b){var c=this;var a=new XMLHttpRequest();if(a.upload&&a.upload.addEventListener){a.upload.onprogress=function(f){if(f.lengthComputable){var d=(f.loaded/f.total)*100;c.setBadgeText(d.toFixed(0)+\"%\")}};a.onreadystatechange=function(f){if(this.readyState===4){if(Ext.Array.indexOf(c.getDefaultSuccessCodes(),parseInt(this.status))!==-1){var d=c.decodeResponse(this);if(d&&d.success){c.fireEvent(\"success\",d,this,f)}else{if(d&&d.message){c.fireEvent(\"failure\",d.message,d,this,f)}else{c.fireEvent(\"failure\",\"Unknown error\",d,this,f)}}}else{c.fireEvent(\"failure\",this.status+\" \"+this.statusText,d,this,f)}c.changeState(\"browse\")}};a.upload.onerror=function(d){c.fireEvent(\"failure\",this.status+\" \"+this.statusText,{},this,d)}}a.open(\"POST\",c.getUrl());if(c.getSignRequestEnabled()){c.signRequest(a,function(d){d.send(c.getForm(b))})}else{a.send(c.getForm(b))}},getForm:function(a){var b=new FormData();b.append(this.getName(),a);return b},reset:function(){var a=this;a.setBadgeText(null);a.formElement.dom.reset();a.fileElement.show()},decodeResponse:function(a){return Ext.decode(a.responseText,true)},signRequest:function(a,d){var b=this;var c=b.getSignHeader();if(!c){b.fireEvent(\"failure\",\"Request signing header is not defined\")}b.signProvider(function(e){a.setRequestHeader(c,e);d(a)},function(e){b.fireEvent(\"failure\",\"Request signing is failed! \"+e,{},this)})},signProvider:function(b,a){b(\"default-token\")",471390,14492,"xtype:\"addView",485880,541,"itemId:\"fileLoadBtn\",xtype:\"fileupload\",margin:\"0 20\",autoUpload:true,loadAsDataUrl:true,states:{browse:{text:\"Browse and load\"},ready:{text:\"Load\"},uploading:{text:\"Loading\",loading:true}}",486469,54,",{itemId:\"loadedImage\",xtype:\"img\",width:\"80%\",height:\"100px\",style:\"margin-top:15px;",485792,35,486556,1680,"[",488236,194,"]",488430,42,"controller.Add",313685,37,"refs:{fileLoadBtn:\"addView #fileLoadBtn\",loadedImage:\"addView #loadedImage\"},control:{fileLoadBtn:{loadsuccess:\"onFileLoadSuccess\",loadfailure:\"onFileLoadFailure\"}",487566,44,"Add controller\")},onFileUploadSuccess:function(){console.log(\"Success\");Ext.device.Notification.show({title:\"All right\",message:\"File uploaded successfully\",buttons:Ext.MessageBox.OK,callback:Ext.emptyFn})},onFileUploadFailure:function(a){console.log(\"Failure\");Ext.device.Notification.show({title:\"Uploading error\",message:a,buttons:Ext.MessageBox.OK,callback:Ext.emptyFn})},onFileLoadSuccess:function(a,d){console.log(\"File loaded\");var b=this;var c=b.getLoadedImage();c.setSrc(a);console.log(a)},onFileLoadFailure:function(a){Ext.device.Notification.show({title:\"Loading error\",message:a,buttons:Ext.MessageBox.OK,callback:Ext.emptyFn",488443,267,",\"Add",488709,836]